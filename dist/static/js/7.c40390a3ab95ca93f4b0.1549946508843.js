webpackJsonp([7],{Ctn8:function(t,e,s){var i=s("zvOl");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("7cbb91b0",i,!0,{})},NI3o:function(t,e,s){"use strict";function i(t){s("Ctn8")}Object.defineProperty(e,"__esModule",{value:!0});var n=s("ABCa"),a=s("rHil"),r=s("1DHf"),l=s("HqzV"),o=s("D8a4"),c=s("+PoZ"),d=s("NHnr"),g=(n.a,a.a,r.a,l.a,o.a,{components:{XHeader:n.a,Group:a.a,Cell:r.a,Search:l.a,Badge:o.a},data:function(){return{msgList:[],unReadList:[],title:"",read:0}},mounted:function(){this.getMsgList()},created:function(){var t=this;d.bus.$on("refresh",function(){t.getMsgList()})},methods:{getMsgList:function(){this.getUnReadMsgList(),this.getReadedMsgList(),d.bus.$emit("refreshMsgCount")},getUnReadMsgList:function(){var t=this;Object(c.a)({read:"0"}).then(function(e){var s=e.data;t.unReadList=s.msglist})},getReadedMsgList:function(){var t=this;Object(c.a)({read:"1"}).then(function(e){var s=e.data;t.msgList=s.msglist})},searchMsgList:function(){var t=this;Object(c.a)({title:this.title}).then(function(e){t.unReadList=[],t.msgList=e.data.msglist})},refresh:function(t){this.getMsgList(),t()},onSubmit:function(){this.$refs.msgSearch.setBlur(),this.searchMsgList()},onCancel:function(){this.getMsgList()}}}),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("x-header",{staticClass:"header-bar",attrs:{"left-options":{showBack:!1}}},[t._v("消息列表")]),t._v(" "),s("search",{ref:"msgSearch",attrs:{position:"absolute",placeholder:"搜索标题","auto-scroll-to-top":"",top:"46px"},on:{"on-cancel":t.onCancel,"on-submit":t.onSubmit},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),s("div",{staticClass:"msg-list"},[s("scroller",{ref:"tasklist",staticClass:"scroller-view",attrs:{"on-refresh":t.refresh,height:"80%"}},[t.unReadList.length>0?s("group",{attrs:{title:"未读消息"}},t._l(t.unReadList,function(e,i){return s("cell",{key:i,attrs:{title:e.title,"is-link":"",link:{path:"/index/msgdetail",query:{msgid:e.messagerecieveid,read:e.read,title:e.title,content:e.content}},"inline-desc":e.content}},[s("span",{staticStyle:{color:"green"},attrs:{slot:"after-title"},slot:"after-title"},[t._v(t._s(t._f("parseTime")(e.sendtime,"{y}-{m}-{d} {h}:{i}:{s}")))]),t._v(" "),s("badge",{attrs:{text:"未读"}})],1)})):t._e(),t._v(" "),t.msgList.length>0?s("group",{attrs:{title:"已读消息"}},t._l(t.msgList,function(e,i){return s("cell",{key:i,attrs:{title:e.title,"is-link":"",link:{path:"/index/msgdetail",query:{msgid:e.messagerecieveid,read:e.read,title:e.title,content:e.content}},"inline-desc":e.content}},[s("span",{staticStyle:{color:"green"},attrs:{slot:"after-title"},slot:"after-title"},[t._v(t._s(t._f("parseTime")(e.sendtime,"{y}-{m}-{d} {h}:{i}:{s}")))])])})):t._e()],1)],1)],1)},m=[],f={render:u,staticRenderFns:m},h=f,v=s("VU/8"),p=i,L=v(g,h,!1,p,"data-v-28568816",null);e.default=L.exports},zvOl:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"\n.msg-list[data-v-28568816] {\n  margin-bottom: 50px;\n}\n.scroller-view[data-v-28568816] {\n  margin-top: 90px;\n}\n","",{version:3,sources:["D:/航线APP/20190212/airlinetask-mobile-develop/src/views/msg/msglist.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB",file:"msglist.vue",sourcesContent:["\n.msg-list[data-v-28568816] {\n  margin-bottom: 50px;\n}\n.scroller-view[data-v-28568816] {\n  margin-top: 90px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=7.c40390a3ab95ca93f4b0.1549946508843.js.map